<!DOCTYPE html>
<html>

<head>
    <title>Que 10</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.3/angular-csp.css"
        integrity="sha512-f7WVHp6iaZ7iOx9duYm67KLwCFJ9KirfMIK0MAOxf1wq5M8Ogdw5ljbCxlk/BtWIbyXWMsIaDaqwUpXttPQ/5g=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.3/angular.min.js"
        integrity="sha512-KZmyTq3PLx9EZl0RHShHQuXtrvdJ+m35tuOiwlcZfs/rE7NZv29ygNA8SFCkMXTnYZQK2OX0Gm2qKGfvWEtRXA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>

<body ng-app="myApp" ng-controller="myCtrl10">
    <h1 class="text-white bg-dark text-center"> Student Information</h1>

    <select ng-model="sel">
        <option ng-repeat="item in StudInfo track by $index">{{item.SID}}</option>

    </select>

    <table class="table table-warning table-hover">
        <tr>
            <th> Sr. No. </th>
            <th> Student ID </th>
            <th> Student Name </th>
            <th> Age </th>
            <th> Result </th>
        </tr>
        <tr ng-repeat="item in StudInfo | filter: sel ">
            <td>{{$index+1}}</td>
            <td>{{item.SID}}</td>
            <td>{{item.SNAME}}</td>
            <td>{{item.AGE}}</td>
            <td>
                <button type="button" class="btn btn-info" ng-click="dispResult(item)"> Display </button>
            </td>
        </tr>
    </table>
    <div class="bg-primary text-white">
        <table class="table">
            <tr>
                <td colspan="2">Detail Results</td>
            </tr>
            <tr>
                <td> Subject 1</td>
                <td> {{S1}}</td>
            </tr>
            <tr>
                <td> Subejct 2</td>
                <td> {{S2}}</td>
            </tr>
            <tr>
                <td> Subejct 3</td>
                <td> {{S3}}</td>
            </tr>
            <tr>
                <td>Total</td>
                <td> {{total}}</td>
            </tr>
            <tr>
                <td> Grade for Subject 1: </td>
                <td> {{grade1}}</td>
            </tr>
            <tr>
                <td> Grade for Subject 2: </td>
                <td> {{grade2}}</td>
            </tr>
            <tr>
                <td> Grade for Subject 3: </td>
                <td> {{grade3}}</td>
            </tr>
            <tr>
                <td> Percentage: </td>
                <td> {{perc}}</td>
            </tr>
        </table>
    </div>
    <script>
        const app = angular.module("myApp", [])
        app.controller("myCtrl10", function ($scope) {
            $scope.StudInfo = [
                { SID: 72, SNAME: "Chirag", AGE: 23, s1: 80, s2: 70, s3: 80 },
                { SID: 18, SNAME: "Suchi", AGE: 18, s1: 70, s2: 75, s3: 80 },
                { SID: 32, SNAME: "Siyachi", AGE: 22, s1: 90, s2: 40, s3: 78 },
                { SID: 83, SNAME: "Sakshi", AGE: 22, s1: 70, s2: 50, s3: 90 },
                { SID: 34, SNAME: "Nachiket", AGE: 25, s1: 60, s2: 55, s3: 60 },
                { SID: 89, SNAME: "YC", AGE: 22, s1: 60, s2: 30, s3: 60 },
            ]

            $scope.dispResult = function (a) {
                //function code
                $scope.S1 = a.s1
                $scope.S2 = a.s2
                $scope.S3 = a.s3
                if (a.s1 < 50 || a.s2 < 50 || a.s3 < 50) {
                    $scope.total = "Fail";
                }
                else {
                    $scope.total = a.s1 + a.s2 + a.s3;
                }
                $scope.grade1 = calculateGrade(a.s1)
                $scope.grade2 = calculateGrade(a.s2)
                $scope.grade3 = calculateGrade(a.s3)

                $scope.perc = $scope.total / 3.0;

                function calculateGrade(marks) {
                    if (marks > 80) {
                        return "AA";
                    } else if (marks > 75 && marks <= 80) {
                        return "AB";
                    } else if (marks > 70 && marks <= 75) {
                        return "BB";
                    } else if (marks > 65 && marks <= 70) {
                        return "BC";
                    } else if (marks > 60 && marks <= 65) {
                        return "CC";
                    } else if (marks > 55 && marks <= 60) {
                        return "CD";
                    } else if (marks => 50 && marks <= 55) {
                        return "DD";
                    } else {
                        return "FF";
                    }
                }
            }
        })
    </script>
</body>

</html>